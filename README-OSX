Compiling qsynth-0.2.x on Mac OS X
----------------------------------
by: Ebrahim Mayat <ebmayat at mac dot com>

1. Install X11-1.0 from the Panther (10.3) CD and Apple's Xcode and
   X11SDK.pkg from the Xcode Tools CD.

2. Install qt3, qt3-designer, qt3-dev, qt3-doc, qt3-linguist and
   qt3-shlibs from fink.

3. cd to the qsynth-0.2.2 directory and generate the qsynth.pro file:

   /sw/bin/qmake -project

4. Edit the generated qsynth.pro file to include the IMAGES object:

   IMAGES = icons/qsynth.png \
            icons/messages1.png \
            icons/options1.png \
            icons/about1.png \
            icons/accept1.png \
            icons/quit1.png \
            icons/setup1.png \
            icons/reset1.png \
            icons/panic1.png \
            icons/restart1.png \
            icons/channels1.png \
            icons/ledoff1.png \
            icons/ledon1.png \
            icons/sfont1.png \
            icons/open1.png \
            icons/save1.png \
            icons/add1.png \
            icons/edit1.png \
            icons/remove1.png \
            icons/up1.png \
            icons/down1.png \
            icons/qtlogo.png

5. Generate the Makefile:

   /sw/bin/qmake

6. Edit the Makefile to include the libraries for fluidsynth, MidiShare,
   CoreAudio and Jack in the LIBS line:
   
   -lfluidsynth -framework MidiShare -framework CoreAudio -framework Jack 
   
7. Add paths of the include directories (INCPATH) for the frameworks
   mentioned above:
   
   -I/System/Library/Frameworks/MidiShare.framework/Versions/A/Headers \
   -I/System/Library/Frameworks/CoreAudio.framework/Versions/A/Headers \
   -I/Library/Frameworks/Jack.framework/Versions/A/Headers 
      
8. Create an empty config.h file in the src folder of qsynth:
   touch src/config.h then edit and add the following lines to config.h:

   #define CONFIG_PREFIX "/sw"
   #undef  CONFIG_FLUID_SERVER
   #define CONFIG_FLUID_RESET 1
   #define CONFIG_FLUID_BANK_OFFSET 1
   #define CONFIG_ROUND 1

9. make


FAIR WARNING: Please, avoid enabling the "Output peak level meters" option,
which is known to raise a general "bus error" exception on startup, making
QSynth unusable. Please do report if you ever get the level meters to sneak
up on Mac OS X.

Enjoy.

