%define name    @PACKAGE_TARNAME@
%define version @PACKAGE_VERSION@
%define release 4
%define prefix  @ac_prefix@

Summary:	A fluidsynth Qt GUI Interface.
Name:		%{name}
Version:	%{version}
Release:	%{release}
Prefix:		%{prefix}
License:	GPL
Group:		Productivity/Multimedia/Sound/Midi
Source0:	%{name}-%{version}.tar.gz
URL:		http://qsynth.sourceforge.net/

BuildRoot:	%{_tmppath}/%{name}-%{version}-%{release}-buildroot

Requires:	qt >= 4.1
Requires:	fluidsynth >= 1.0.3

BuildRequires:	qt-devel >= 4.1
BuildRequires:	fluidsynth-devel >= 1.0.3

%description
Qsynth is a fluidsynth GUI front-end application, written in C++ around the
Qt4 toolkit, using Qt Designer. Eventually it may evolve into a softsynth
management application allowing the user to control and manage a variety of
command line softsynths.

%prep
%setup
[ -f Makefile.cvs ] && %__make -f Makefile.cvs

%build
export PATH=$QTDIR/bin:$PATH
%configure
%__make

%install
%makeinstall

%clean
[ -d %{buildroot} -a "%{buildroot}" != "" ] && %__rm -rf  %{buildroot}

%files
%defattr(-,root,root)
%doc AUTHORS COPYING ChangeLog README TODO
%{_bindir}/%{name}
%{_datadir}/applications/%{name}.desktop
%{_datadir}/pixmaps/%{name}.png

%changelog
* Tue Jun 26 2007 Rui Nuno Capela <rncbc@users.sourceforge.net>
- Qt4 migration has comenced.
* Mon Jun 25 2007 Rui Nuno Capela <rncbc@users.sourceforge.net>
- Application icon is now installed to (prefix)/share/pixmaps.
- Declared fundamental build and run-time requirements.
- Destination install directory prefix is now in spec.
- Spec is now a bit more openSUSE compliant.
* Thu Jun 01 2006 Rui Nuno Capela <rncbc@users.sourceforge.net>
- Changed deprecated copyright attribute to license.
* Sun Oct 2 2005 Rui Nuno Capela <rncbc@users.sourceforge.net>
- Made public as for 0.2.4 release.
* Wed Aug 24 2005 Rui Nuno Capela <rncbc@users.sourceforge.net>
- Created initial qsynth.spec
